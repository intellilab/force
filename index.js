(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,e,a){t.exports={wrap:"h7Turh6o3dTvH_yjTRQeF",bar:"_2_SznPQSNQ8KR8UehWpuVv",text:"_3oTHlMt_-G1_UXFo2ocvD2",hidden:"_1DAuwZeeY02HR6WZi7E3et"}},,function(t,e,a){t.exports={container:"_2hyNi9CGhGGN93vchSyvTT",rect:"IS72-tandQYNw79PQWMg2"}},,,,,function(t,e,a){t.exports={wrap:"_3RJ-pxQADVMSGCVJwXgMW9"}},function(t,e,a){t.exports={wrap:"_2S1LkVxaao-3xGU-74Rw9B"}},,,,,,,function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),s=a(5),r=a.n(s),i=a(2),c=a(6),h=a(7),d=a.n(h),u=a(1),l=a.n(u),m=o.a.forwardRef((t,e)=>{const[a,s]=Object(n.useState)(0),[r,c]=Object(n.useState)(!1),{data:{text:h,style:d,animated:u}}=t;let m;return Object(n.useEffect)(()=>{if(!m&&u)return m=new i.Tween({scale:0}).to({scale:1},200).on("update",t=>{s(t.scale)}).on("complete",()=>{c(!0),m=null}).start(),()=>{m&&(m.stop(),m=null)}},[u]),h?o.a.createElement("div",{className:l.a.wrap,style:d,ref:e},o.a.createElement("div",{className:l.a.bar,style:{transform:`scaleX(${a})`}}),o.a.createElement("div",{className:`${l.a.text} ${r?"":l.a.hidden}`},h)):null}),f=a(3),p=a.n(f);class x extends o.a.Component{constructor(t){super(t),this.handleBindItem=(t,e)=>{this.cache.nodes[t]=e},this.handleMouseDown=t=>{t.preventDefault(),this.dragStart(t,t.target)&&(document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("mouseup",this.handleMouseUp,!1))},this.handleMouseMove=t=>{this.dragMove(t)},this.handleMouseUp=()=>{this.dragEnd()&&(document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1))},this.handleTouchStart=t=>{const[e]=t.changedTouches;this.dragStart(e,t.target)&&(document.addEventListener("touchmove",this.handleTouchMove,!1),document.addEventListener("touchend",this.handleTouchEnd,!1))},this.handleTouchMove=t=>{const[e]=t.changedTouches;this.dragMove(e)},this.handleTouchEnd=()=>{this.dragEnd()&&(document.removeEventListener("touchmove",this.handleTouchMove,!1),document.removeEventListener("touchend",this.handleTouchEnd,!1))},this.state={items:[]},this.cache={nodes:[]}}componentDidMount(){this.updateData()}componentDidUpdate(t){t!==this.props&&this.updateData()}getOffset(t){const{wrapProps:{top:e,left:a}}=this.props;return{offsetX:t.clientX-a,offsetY:t.clientY-e}}updateItems(){const{items:t}=this.state,e=[[]];t.forEach((t,a)=>{const{data:{tw:n,th:o},rect:s}=t;e[0].push({index:a,x1:s.x1,y1:s.y1,w:n,h:o})});const a=d()({mutationFunction:e=>e.map(e=>{(e={...e}).x1+=3*(Math.floor(3*Math.random())-1),e.y1+=3*(Math.floor(3*Math.random())-1);const a=Math.random(),n=t[e.index];return a<.3?e.x1=2*n.rect.cx-e.x1-e.w:a<.6&&(e.y1=2*n.rect.cy-e.y1-e.h),e}),crossoverFunction:(t,e)=>{const a=Math.floor(t.length/2);return[[...t.slice(0,a),...e.slice(a)],[...e.slice(0,a),...t.slice(a)]]},fitnessFunction:e=>{let a=0;return e.forEach((n,o)=>{t.forEach((t,e)=>{const{dx:s,dy:r,area:i}=g(n,t.rect);if(i)a+=.5*i;else if(o===e){const t=-Math.max(...[s,r].filter(t=>t<0));a+=.5*t}}),e.forEach(t=>{if(n!==t){const{area:e}=g(n,t);e&&(a+=.8*e)}})}),-a},population:e,populationSize:100});for(let t=0;t<100;t+=1)a.evolve();const n=a.best();console.info("best:",n,a.bestScore()),this.setState({items:t.map((t,e)=>({...t,data:{...t.data,align:"left",animated:!0,style:{top:n[e].y1,left:n[e].x1}}}))})}dragStart(t,e){const{offsetX:a,offsetY:n}=this.getOffset(t),{items:o}=this.state,{index:s}=e.dataset;if(s>=0){const t={x:a,y:n,index:s,data:o[s]};return this.dragging=t,!0}}dragMove(t){const{dragging:e}=this;if(!e)return;const{wrapProps:a}=this.props,{offsetX:n,offsetY:o}=this.getOffset(t),{data:{rect:s}}=e,r=s.x1+n-e.x,i=s.y1+o-e.y,c=[r,i,r+s.w,i+s.h],h=y(c,{width:1/a.width,height:1/a.height}),d=[h.x1,h.y1,h.x2,h.y2],u={...e.data,bbox:d,rect:v(c)},{items:l}=this.state,m=[...l];m[e.index]=u,this.setState({items:m})}dragEnd(){const{dragging:t}=this;if(t)return this.dragging=null,this.updateItems(),!0}updateData(){const{data:t,wrapProps:e}=this.props;if(!t)return;const a=t.map(t=>{const{text:a,bbox:n}=t;return{bbox:n,rect:y(n,e),data:{text:a,style:{right:"100%",bottom:"100%"}}}});this.setState({items:a},()=>{a.forEach((t,e)=>{const a=this.cache.nodes[e];a&&({offsetWidth:t.data.tw,offsetHeight:t.data.th}=a)}),this.updateItems()})}render(){const{items:t}=this.state;return o.a.createElement("div",{className:p.a.container},t.map((t,e)=>o.a.createElement("div",{key:e,className:p.a.rect,style:{top:t.rect.y1,left:t.rect.x1,width:t.rect.w,height:t.rect.h},"data-index":e,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart})),t.map((t,e)=>o.a.createElement(m,{key:e,data:t.data,ref:t=>this.handleBindItem(e,t)})))}}function g(t,e){const a=Math.max(t.x1,e.x1),n=Math.max(t.y1,e.y1),o=Math.min(t.x1+t.w,e.x1+e.w),s=Math.min(t.y1+t.h,e.y1+e.h);let r=0;const i=o-a,c=s-n;return i>0&&c>0&&(r=i*c),{x1:a,y1:n,x2:o,y2:s,dx:i,dy:c,area:r}}function v([t,e,a,n]){const o=a-t,s=n-e;return{x1:t,y1:e,x2:a,y2:n,cx:t+o/2,cy:e+s/2,w:o,h:s}}function y([t,e,a,n],o){const{width:s,height:r}=o;return v([t*s,e*r,a*s,n*r])}var w=a(8),M=a.n(w);const E=["hello, world","Every day is Friday","Today, I don't feel like doing anything","I just wanna lay in my bed","Don't feel like picking up my phone","So leave a message at the tone","'Cause today, I swear, I'm not doing anything"],b=()=>E[Math.floor(Math.random()*E.length)],S=[{text:b(),bbox:[.3,.3,.4,.4]},{text:b(),bbox:[.4,.4,.6,.6]},{text:b(),bbox:[.3,.5,.4,.6]},{text:b(),bbox:[.2,.6,.8,.8]}];function T(){const[t,e]=Object(n.useState)(null),a=Object(n.useRef)();return Object(n.useEffect)(()=>{const t=a.current.getBoundingClientRect();e({top:t.top,left:t.left,width:t.width,height:t.height,scale:t.width/750})},[]),o.a.createElement("div",{className:M.a.wrap,ref:a},t&&o.a.createElement(x,{wrapProps:t,data:S}))}var D=a(9),N=a.n(D);a(16);Object(c.a)(),Object(i.autoPlay)(!0);const O=document.createElement("div");document.body.append(O),r.a.render(o.a.createElement((function(){return o.a.createElement("div",{className:N.a.wrap},o.a.createElement(T,null))}),null),O)}],[[17,1,2]]]);