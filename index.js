(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,e,a){t.exports={wrap:"\ud83d\udc46",bar:"\ud83c\udf0b",text:"\ud83d\udd49",hidden:"\ud83d\udc69\ud83c\udffb\u200d\ud83d\ude80"}},,function(t,e,a){t.exports={container:"\ud83c\udf1e",rect:"\ud83d\udc59"}},,,,,function(t,e,a){t.exports={wrap:"\ud83e\udd16"}},function(t,e,a){t.exports={wrap:"\ud83d\ude91"}},,,,,,,function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(5),r=a.n(o),i=a(2),c=a(6),h=a(7),d=a.n(h),u=a(1),l=a.n(u),m=s.a.forwardRef((t,e)=>{const[a,o]=Object(n.useState)(0),[r,c]=Object(n.useState)(!1),{data:{text:h,style:d,animated:u}}=t;let m;return Object(n.useEffect)(()=>{if(!m&&u)return m=new i.Tween({scale:0}).to({scale:1},200).on("update",t=>{o(t.scale)}).on("complete",()=>{c(!0),m=null}).start(),()=>{m&&(m.stop(),m=null)}},[u]),h?s.a.createElement("div",{className:l.a.wrap,style:d,ref:e},s.a.createElement("div",{className:l.a.bar,style:{transform:`scaleX(${a})`}}),s.a.createElement("div",{className:`${l.a.text} ${r?"":l.a.hidden}`},h)):null}),f=a(3),p=a.n(f);class x extends s.a.Component{constructor(t){super(t),this.handleBindItem=(t,e)=>{this.cache.nodes[t]=e},this.handleMouseDown=t=>{t.preventDefault(),this.dragStart(t,t.target)&&(document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("mouseup",this.handleMouseUp,!1))},this.handleMouseMove=t=>{this.dragMove(t)},this.handleMouseUp=()=>{this.dragEnd()&&(document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1))},this.handleTouchStart=t=>{const[e]=t.changedTouches;this.dragStart(e,t.target)&&(document.addEventListener("touchmove",this.handleTouchMove,!1),document.addEventListener("touchend",this.handleTouchEnd,!1))},this.handleTouchMove=t=>{const[e]=t.changedTouches;this.dragMove(e)},this.handleTouchEnd=()=>{this.dragEnd()&&(document.removeEventListener("touchmove",this.handleTouchMove,!1),document.removeEventListener("touchend",this.handleTouchEnd,!1))},this.state={items:[]},this.cache={nodes:[]}}componentDidMount(){this.updateData()}componentDidUpdate(t){t!==this.props&&this.updateData()}getOffset(t){const{wrapProps:{top:e,left:a}}=this.props;return{offsetX:t.clientX-a,offsetY:t.clientY-e}}updateItems(){const{items:t}=this.state,e=[[]];t.forEach((t,a)=>{const{data:{tw:n,th:s},rect:o}=t;e[0].push({index:a,x1:o.x1,y1:o.y1,w:n,h:s})});const a=d()({mutationFunction:e=>e.map(e=>{(e={...e}).x1+=3*(Math.floor(3*Math.random())-1),e.y1+=3*(Math.floor(3*Math.random())-1);const a=Math.random(),n=t[e.index];return a<.3?e.x1=2*n.rect.cx-e.x1-e.w:a<.6&&(e.y1=2*n.rect.cy-e.y1-e.h),e}),crossoverFunction:(t,e)=>{const a=Math.floor(t.length/2);return[[...t.slice(0,a),...e.slice(a)],[...e.slice(0,a),...t.slice(a)]]},fitnessFunction:e=>{let a=0;return e.forEach((n,s)=>{t.forEach((t,e)=>{const{dx:o,dy:r,area:i}=g(n,t.rect);if(i)a+=.5*i;else if(s===e){const t=-Math.max(...[o,r].filter(t=>t<0));a+=.5*t}}),e.forEach(t=>{if(n!==t){const{area:e}=g(n,t);e&&(a+=.8*e)}})}),-a},population:e,populationSize:100});for(let t=0;t<100;t+=1)a.evolve();const n=a.best();console.info("best:",n,a.bestScore()),this.setState({items:t.map((t,e)=>({...t,data:{...t.data,align:"left",animated:!0,style:{top:n[e].y1,left:n[e].x1}}}))})}dragStart(t,e){const{offsetX:a,offsetY:n}=this.getOffset(t),{items:s}=this.state,{index:o}=e.dataset;if(o>=0){const t={x:a,y:n,index:o,data:s[o]};return this.dragging=t,!0}}dragMove(t){const{dragging:e}=this;if(!e)return;const{wrapProps:a}=this.props,{offsetX:n,offsetY:s}=this.getOffset(t),{data:{rect:o}}=e,r=o.x1+n-e.x,i=o.y1+s-e.y,c=[r,i,r+o.w,i+o.h],h=v(c,{width:1/a.width,height:1/a.height}),d=[h.x1,h.y1,h.x2,h.y2],u={...e.data,bbox:d,rect:y(c)},{items:l}=this.state,m=[...l];m[e.index]=u,this.setState({items:m})}dragEnd(){const{dragging:t}=this;if(t)return this.dragging=null,this.updateItems(),!0}updateData(){const{data:t,wrapProps:e}=this.props;if(!t)return;const a=t.map(t=>{const{text:a,bbox:n}=t;return{bbox:n,rect:v(n,e),data:{text:a,style:{right:"100%",bottom:"100%"}}}});this.setState({items:a},()=>{a.forEach((t,e)=>{const a=this.cache.nodes[e];a&&({offsetWidth:t.data.tw,offsetHeight:t.data.th}=a)}),this.updateItems()})}render(){const{items:t}=this.state;return s.a.createElement("div",{className:p.a.container},t.map((t,e)=>s.a.createElement("div",{key:e,className:p.a.rect,style:{top:t.rect.y1,left:t.rect.x1,width:t.rect.w,height:t.rect.h},"data-index":e,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart})),t.map((t,e)=>s.a.createElement(m,{key:e,data:t.data,ref:t=>this.handleBindItem(e,t)})))}}function g(t,e){const a=Math.max(t.x1,e.x1),n=Math.max(t.y1,e.y1),s=Math.min(t.x1+t.w,e.x1+e.w),o=Math.min(t.y1+t.h,e.y1+e.h);let r=0;const i=s-a,c=o-n;return i>0&&c>0&&(r=i*c),{x1:a,y1:n,x2:s,y2:o,dx:i,dy:c,area:r}}function y([t,e,a,n]){const s=a-t,o=n-e;return{x1:t,y1:e,x2:a,y2:n,cx:t+s/2,cy:e+o/2,w:s,h:o}}function v([t,e,a,n],s){const{width:o,height:r}=s;return y([t*o,e*r,a*o,n*r])}var w=a(8),E=a.n(w);const b=["hello, world","Every day is Friday","Today, I don't feel like doing anything","I just wanna lay in my bed","Don't feel like picking up my phone","So leave a message at the tone","'Cause today, I swear, I'm not doing anything"],M=()=>b[Math.floor(Math.random()*b.length)],S=[{text:M(),bbox:[.3,.3,.4,.4]},{text:M(),bbox:[.4,.4,.6,.6]},{text:M(),bbox:[.3,.5,.4,.6]},{text:M(),bbox:[.2,.6,.8,.8]}];function T(){const[t,e]=Object(n.useState)(null),a=Object(n.useRef)();return Object(n.useEffect)(()=>{const t=a.current.getBoundingClientRect();e({top:t.top,left:t.left,width:t.width,height:t.height,scale:t.width/750})},[]),s.a.createElement("div",{className:E.a.wrap,ref:a},t&&s.a.createElement(x,{wrapProps:t,data:S}))}var O=a(9),D=a.n(O);a(16);Object(c.a)(),Object(i.autoPlay)(!0);const j=document.createElement("div");document.body.append(j),r.a.render(s.a.createElement((function(){return s.a.createElement("div",{className:D.a.wrap},s.a.createElement(T,null))}),null),j)}],[[17,1,2]]]);